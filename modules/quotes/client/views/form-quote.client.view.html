<!--<section>-->
<!--<div class="page-header">-->
<!--<h3>Prepare Quote</h3>-->
<!--</div>-->

<!--<formly-form form="vm.form.quoteForm" model="vm.quote" fields="vm.quoteFields">-->
<!--<button type="submit" class="btn btn-default btn-sm btn-primary" ng-click="vm.save(vm.form.quoteForm.$valid)">Save</button>-->
<!--</formly-form>-->
<!--<div ng-show="vm.error" class="text-danger">-->
<!--<strong ng-bind="vm.error"></strong>-->
<!--</div>-->
<!--</section>-->

<form name="form.quoteForm">
  <h2>Customer Quote</h2>
  <wizard on-finish="vm.finishWizard()" template="modules/quotes/client/views/wizard.html">
    <wz-step wz-title="Basic Detail" canexit="vm.exitValidation(vm.forms.step1)">
      <formly-form model="vm.quote" fields="vm.quoteFields.step1" form="vm.forms.step1">
        <div style="text-align:right">
          <button type="submit" ng-disabled="vm.forms.step1.$invalid" wz-next
                  class="btn btn-primary submit-button btn-sm">Next
          </button>
        </div>
      </formly-form>
    </wz-step>
    <wz-step wz-title="Discounts" canexit="vm.exitValidation(vm.forms.step2)">
      <formly-form model="vm.quote" fields="vm.quoteFields.step2" form="vm.forms.step2">
        <div style="text-align:right">
          <button type="button" data-ng-click="vm.nextFromDiscountStep()" ng-disabled="vm.forms.step2.$invalid" wz-next
                  class="btn btn-primary submit-button btn-sm">Next
          </button>
        </div>
      </formly-form>
    </wz-step>
    <wz-step wz-title="Size and Projections" canexit="vm.exitValidation(vm.forms.step3)">
      <formly-form model="vm.quote" fields="vm.quoteFields.step3" form="vm.forms.step3">
        <div style="text-align:right">
          <button type="button" data-ng-click="vm.nextFromSizeAndProjection()" ng-disabled="vm.forms.step3.$invalid"
                  wz-next class="btn btn-primary submit-button btn-sm">Next
          </button>
        </div>
      </formly-form>
    </wz-step>
    <wz-step wz-title="Feature Selection" canexit="vm.exitValidation(vm.forms.step3)">
      <ng-include src="'modules/quotes/client/views/products-steps.client.view.html'"></ng-include>
      <br>
      <div style="text-align:right">
        <button type="button" data-ng-click="vm.nextFromProductsSelection()" ng-disabled="vm.forms.step4.$invalid"
                wz-next class="btn btn-primary submit-button btn-sm">Next
        </button>
      </div>
    </wz-step>
    <wz-step wz-title="TCO" canexit="vm.exitValidation(vm.forms.step3)">
      <ng-include src="'modules/quotes/client/views/tco-chart.client.view.html'"></ng-include>
      <div style="text-align:right">
        <button type="button" data-ng-click="vm.save(vm.forms.step3.$valid)" ng-disabled="vm.forms.step3.$invalid"
                wz-next class="btn btn-primary submit-button btn-sm">Save
        </button>
      </div>
    </wz-step>
  </wizard>
</form>
